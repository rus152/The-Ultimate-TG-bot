# ASR –ú–æ–¥—É–ª—å –¥–ª—è Telegram –ë–æ—Ç–∞

–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ (ASR) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤** - Whisper, NeMo
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** - —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- **–ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
asr/
‚îú‚îÄ‚îÄ __init__.py          # –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å
‚îú‚îÄ‚îÄ base.py              # –ë–∞–∑–æ–≤—ã–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å
‚îú‚îÄ‚îÄ whisper_provider.py  # –ü—Ä–æ–≤–∞–π–¥–µ—Ä OpenAI Whisper
‚îú‚îÄ‚îÄ nemo_provider.py     # –ü—Ä–æ–≤–∞–π–¥–µ—Ä NVIDIA NeMo
‚îî‚îÄ‚îÄ factory.py           # –§–∞–±—Ä–∏–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

```python
from asr import ASRFactory

# –°–æ–∑–¥–∞–Ω–∏–µ Whisper –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
config = {
    'model_name': 'turbo',
    'device': 'auto',
    'language': 'ru'
}
provider = ASRFactory.create_from_string('whisper', config)

# –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏
provider.load_model()

# –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
result = provider.transcribe('audio.wav')
print(result)
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±–æ—Ç–µ

```python
from asr import ASRFactory

class VoiceBot:
    def __init__(self, config):
        # –°–æ–∑–¥–∞–Ω–∏–µ ASR –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
        self.asr_provider = ASRFactory.create_from_string(
            config.asr_provider,
            {
                'model_name': config.asr_model_name,
                'device': config.asr_device,
                'language': config.asr_language
            }
        )
        self.asr_provider.load_model()
    
    def transcribe_audio(self, audio_path):
        return self.asr_provider.transcribe(audio_path)
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
ASR_PROVIDER=whisper
ASR_MODEL_NAME=turbo
ASR_DEVICE=auto
ASR_LANGUAGE=ru
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

#### Whisper
- **–ú–æ–¥–µ–ª–∏**: `tiny`, `base`, `small`, `medium`, `large`, `turbo`
- **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**: `auto`, `cpu`, `cuda`
- **–Ø–∑—ã–∫–∏**: 99+ —è–∑—ã–∫–æ–≤ –∏–ª–∏ `auto`

#### NeMo
- **–ú–æ–¥–µ–ª–∏**: `nvidia/parakeet-tdt-0.6b-v2`, `nvidia/parakeet-tdt-1.1b`
- **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**: `cuda` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python test_asr.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤ –±–æ—Ç–µ
/asr_status
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–µ
- Python 3.8+
- PyTorch 2.0+
- openai-whisper

### –î–ª—è NeMo
- CUDA-—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è GPU
- nemo_toolkit[asr]

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π –æ—Ç `ASRProvider`
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã
3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤ —Ñ–∞–±—Ä–∏–∫–µ

```python
from asr.base import ASRProvider
from asr.factory import ASRFactory, ASRProviderType

class CustomProvider(ASRProvider):
    @property
    def provider_name(self):
        return "Custom ASR"
    
    def load_model(self):
        # –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏
        pass
    
    def transcribe(self, audio_path):
        # –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
        return "transcribed text"

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
ASRFactory.register_provider(ASRProviderType.CUSTOM, CustomProvider)
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
2. ‚úÖ Whisper –ø—Ä–æ–≤–∞–π–¥–µ—Ä
3. ‚úÖ NeMo –ø—Ä–æ–≤–∞–π–¥–µ—Ä (–±–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞)
4. ‚úÖ –§–∞–±—Ä–∏–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
5. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –±–æ—Ç
6. üîÑ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
7. üîÑ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
8. üîÑ –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
9. üîÑ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
10. üîÑ –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
